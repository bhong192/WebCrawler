<!doctype html>
<html lang="en">
 <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="google-site-verification" content="VsVvSTVAouAluNodWeR30BeIWTr4c84HvN4Fn9WBsak"> <!-- wp_head --> <!-- This site is optimized with the Yoast SEO plugin v15.5 - https://yoast.com/wordpress/plugins/seo/ -->
  <title>Jersey and Jetty HTTP Server examples - Mkyong.com</title>
  <meta name="description" content="Using Jersey with Jetty HTTP Server, Jackson for JSON, JUnit 5 for testing.">
  <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
  <meta property="og:locale" content="en_US">
  <meta property="og:type" content="article">
  <meta property="og:title" content="Jersey and Jetty HTTP Server examples - Mkyong.com">
  <meta property="og:description" content="Using Jersey with Jetty HTTP Server, Jackson for JSON, JUnit 5 for testing.">
  <meta property="og:url" content="https://mkyong.com/webservices/jax-rs/jersey-and-jetty-http-server-examples/">
  <meta property="og:site_name" content="Mkyong.com">
  <meta property="article:published_time" content="2021-05-26T05:58:12+00:00">
  <meta property="article:modified_time" content="2021-06-26T07:29:39+00:00">
  <meta property="og:image" content="https://mkyong.com/wp-content/uploads/2021/05/java-jersey-jetty-logo.png">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:label1" content="Written by">
  <meta name="twitter:data1" content="mkyong">
  <meta name="twitter:label2" content="Est. reading time">
  <meta name="twitter:data2" content="10 minutes">  <!-- / Yoast SEO plugin. -->  
 </head>
 <body>
  <div class="container-fluid">
   <div class="row"> <!-- left -->
    <div id="sidebar-left" class="col-12 col-lg-3 col-xl-2"> <!-- sidebar-left-menu, see functions.php-->
     <div class="offcanvas offcanvas-start" tabindex="-1" id="left-nav" aria-labelledby="left-nav">
      <div class="offcanvas-header">
       <h5 class="offcanvas-title">Main Tutorials</h5>
      </div>
      <div class="offcanvas-body sidebar-left-no-highlight">
       <div>
        <ul>
         <li></li>
         <li></li>
         <li></li>
         <li></li>
         <li></li>
         <li></li>
         <li></li>
         <li></li>
         <li></li>
         <li></li>
         <li></li>
         <li></li>
         <li></li>
         <li></li>
         <li></li>
         <li></li>
         <li></li>
        </ul>
       </div>
      </div>
     </div> <!-- ads -->
     <div class="ads-container-sticky d-none d-lg-block">
      <div class="ads-container">
       <div align="center" data-freestar-ad="__160x600" id="mkyong_rail_left">  
       </div>
      </div>
     </div>
    </div> <!-- middle -->
    <main id="main-middle" role="main" class="col-12 col-lg-9 col-xl-7">
     <article id="main-content" class="dont-break-out">
      <div id="title-container">
       <h1>Jersey and Jetty HTTP Server examples</h1>
       <div class="post-meta d-flex align-items-center position-relative">
        <div></div>
        <div>
         <p><small class="extra-info">By  | <time datetime="2021-06-26T15:29:39+08:00"> Last updated: June 26, 2021</time></small></p>
         <p><small class="extra-info">Viewed: 5,660 (+459 pv/w)</small></p>
         <p><small class="extra-info"></small></p>
         <div class="post-tag">
          <small class="extra-info">Tags: |  |  |  |  |  |  |  | </small>
         </div>
         <p></p>
        </div>
       </div>
      </div>
      <p></p>
      <div class="pic"> 
      </div>
      <p></p>
      <p>This article shows how to start a  to run a JAX-RS or  application.</p>
      <p>Tested with</p>
      <ul>
       <li>Jersey 3.0.2</li>
       <li>Jetty 11</li>
       <li>Jackson 2.12.2</li>
       <li>JUnit 5.4.0 (unit test)</li>
       <li>JSONassert 1.5.0 (unit test)</li>
       <li>Maven 3.8.3</li>
       <li>Java 11</li>
      </ul>
      <p>Tables of contents</p>
      <ul class="list-toc">
       <li></li>
       <li></li>
       <li></li>
       <li></li>
       <li></li>
       <li></li>
       <li></li>
       <li></li>
       <li></li>
       <li></li>
      </ul>
      <p>At the end of the article, we will show a complete Jersey + Jetty + Jackson example to create a few endpoints to return a JSON formatted response.</p>
      <h2 id="using-jersey-with-jetty-http-server"> 1. Using Jersey with Jetty HTTP Server<br></h2>
      <p>1.1 Add the <code>jersey-container-jetty-http</code> dependency for Jetty.</p>
      <div class="filename">
       pom.xml
      </div>
      <pre><code class="language-xml">
  &lt;!-- Jetty --&gt;
  &lt;dependency&gt;
      &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;
      &lt;artifactId&gt;jersey-container-jetty-http&lt;/artifactId&gt;
  &lt;/dependency&gt;

  &lt;!-- Jersey DI and core--&gt;
  &lt;dependency&gt;
      &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;
      &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;
  &lt;/dependency&gt;
</code></pre>
      <p>And we use the <code>JettyHttpContainerFactory</code> to create and start the Jetty HTTP Server.</p>
      <pre><code class="language-java">
  import org.eclipse.jetty.server.Server;
  import org.glassfish.jersey.jetty.JettyHttpContainerFactory;

  // scan packages
  final ResourceConfig config = new ResourceConfig().packages("com.mkyong");

  // Start Jetty Server
  final Server server =
          JettyHttpContainerFactory.createServer(
                  URI.create("http://localhost:8080/"), config);
</code></pre>
      <div class="ads-container ads-container-video">
       <div id="mkyongFreeStarVideoAdContainer">
        <div id="freestar-video-parent">
         <div id="freestar-video-child"></div>
        </div>
       </div>
      </div>
      <h2 id="project-directory"> 2. Project Directory<br></h2>
      <p>Create the Maven standard directory manually.</p>
      <div class="filename">
       Terminal
      </div>
      <pre><code class="language-bash">
  mkdir jersey-jetty\src\main\java
  mkdir jersey-jetty\src\main\resources
  mkdir jersey-jetty\src\test\resources
  mkdir jersey-jetty\src\test\java
</code></pre>
      <p></p>
      <div class="pic"> 
      </div>
      <p></p>
      <h2 id="project-dependencies"> 3. Project dependencies<br></h2>
      <p>3.1 Create a <code>jersey-jetty\pom.xml</code> file, put the following content, and import or open it with the IDEs.</p>
      <p>Notes</p>
      <ul>
       <li><code>jersey-hk2</code> for Jersey core and dependency injection.</li>
       <li><code>jersey-container-jetty-http</code> for Jetty HTTP server.</li>
       <li><code>jakarta.servlet-api</code>, Jetty 11 needs Servlet 5 APIs, package <code>jakarta.*</code></li>
       <li><code>jersey-media-json-jackson</code> for Jackson to support JSON response.</li>
       <li><code>junit-jupiter-params</code> for JUnit 5, for testing purpose.</li>
       <li><code>jsonassert</code> for testing purposes.</li>
       <li>The <code>plugins</code> are for the package of the executable <code>jar</code> file and project dependencies.</li>
      </ul>
      <div class="filename">
       pom.xml
      </div>
      <pre><code class="language-xml">
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0
         http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;

    &lt;groupId&gt;com.mkyong&lt;/groupId&gt;
    &lt;artifactId&gt;jersey-jetty-example&lt;/artifactId&gt;
    &lt;packaging&gt;jar&lt;/packaging&gt;
    &lt;version&gt;1.0&lt;/version&gt;

    &lt;properties&gt;
        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;
        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;
        &lt;java.version&gt;11&lt;/java.version&gt;
        &lt;junit.version&gt;5.4.0&lt;/junit.version&gt;
        &lt;jsonassert.version&gt;1.5.0&lt;/jsonassert.version&gt;
        &lt;jersey.version&gt;3.0.2&lt;/jersey.version&gt;
    &lt;/properties&gt;

    &lt;dependencyManagement&gt;
        &lt;dependencies&gt;
            &lt;dependency&gt;
                &lt;groupId&gt;org.glassfish.jersey&lt;/groupId&gt;
                &lt;artifactId&gt;jersey-bom&lt;/artifactId&gt;
                &lt;version&gt;${jersey.version}&lt;/version&gt;
                &lt;type&gt;pom&lt;/type&gt;
                &lt;scope&gt;import&lt;/scope&gt;
            &lt;/dependency&gt;
        &lt;/dependencies&gt;
    &lt;/dependencyManagement&gt;

    &lt;dependencies&gt;

        &lt;!-- Jetty --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;
            &lt;artifactId&gt;jersey-container-jetty-http&lt;/artifactId&gt;
        &lt;/dependency&gt;

        &lt;!-- Jersey DI and core--&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;
            &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;
        &lt;/dependency&gt;

        &lt;!-- Jetty 11 needs Servlet 5 --&gt;
        &lt;!-- java.lang.NoClassDefFoundError: jakarta/servlet/ServletInputStream --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;
            &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;
            &lt;version&gt;5.0.0&lt;/version&gt;
        &lt;/dependency&gt;

        &lt;!-- add jackson to support json --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;
            &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;
        &lt;/dependency&gt;

        &lt;!-- Need this to hide warning
        &lt;dependency&gt;
            &lt;groupId&gt;jakarta.activation&lt;/groupId&gt;
            &lt;artifactId&gt;jakarta.activation-api&lt;/artifactId&gt;
            &lt;version&gt;2.0.1&lt;/version&gt;
        &lt;/dependency&gt;
        --&gt;

        &lt;!-- JUnit 5 --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;
            &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;
            &lt;version&gt;${junit.version}&lt;/version&gt;
            &lt;scope&gt;test&lt;/scope&gt;
        &lt;/dependency&gt;

        &lt;!-- test json data --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.skyscreamer&lt;/groupId&gt;
            &lt;artifactId&gt;jsonassert&lt;/artifactId&gt;
            &lt;version&gt;${jsonassert.version}&lt;/version&gt;
            &lt;scope&gt;test&lt;/scope&gt;
        &lt;/dependency&gt;

    &lt;/dependencies&gt;

    &lt;build&gt;
        &lt;finalName&gt;jersey-jetty&lt;/finalName&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;
                &lt;version&gt;3.8.1&lt;/version&gt;
                &lt;configuration&gt;
                    &lt;source&gt;${java.version}&lt;/source&gt;
                    &lt;target&gt;${java.version}&lt;/target&gt;
                &lt;/configuration&gt;
            &lt;/plugin&gt;

            &lt;!-- JUnit 5 need at least 2.22.0 to support --&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;
                &lt;version&gt;3.0.0-M5&lt;/version&gt;
            &lt;/plugin&gt;

            &lt;plugin&gt;
                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;
                &lt;version&gt;3.2.0&lt;/version&gt;
                &lt;configuration&gt;
                    &lt;archive&gt;
                        &lt;manifest&gt;
                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;
                            &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;
                            &lt;mainClass&gt;com.mkyong.MainApp&lt;/mainClass&gt;
                        &lt;/manifest&gt;
                    &lt;/archive&gt;
                &lt;/configuration&gt;
            &lt;/plugin&gt;

            &lt;!-- copy project dependencies --&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;
                &lt;version&gt;3.1.2&lt;/version&gt;
                &lt;executions&gt;
                    &lt;execution&gt;
                        &lt;id&gt;copy-dependencies&lt;/id&gt;
                        &lt;phase&gt;package&lt;/phase&gt;
                        &lt;goals&gt;
                            &lt;goal&gt;copy-dependencies&lt;/goal&gt;
                        &lt;/goals&gt;
                        &lt;configuration&gt;
                            &lt;!-- exclude junit, we need runtime dependency only --&gt;
                            &lt;includeScope&gt;runtime&lt;/includeScope&gt;
                            &lt;outputDirectory&gt;${project.build.directory}/lib/&lt;/outputDirectory&gt;
                        &lt;/configuration&gt;
                    &lt;/execution&gt;
                &lt;/executions&gt;
            &lt;/plugin&gt;

        &lt;/plugins&gt;
    &lt;/build&gt;

&lt;/project&gt;
</code></pre>
      <h2 id="mvn-dependencytree"> 4. mvn dependency:tree<br></h2>
      <p>List out all the project dependencies. The <code>Jersey 3.0.2</code> uses <code>Jetty 11</code> and <code>Jackson 2.12.2</code>.</p>
      <div class="filename">
       Terminal
      </div>
      <pre><code class="language-bash">
C:\Users\mkyong\projects\jax-rs\jersey\jersey-jetty&gt;mvn dependency:tree
[INFO] Scanning for projects...
[INFO]
[INFO] ------------------&lt; com.mkyong:jersey-jetty-example &gt;-------------------
[INFO] Building jersey-jetty-example 1.0
[INFO] --------------------------------[ jar ]---------------------------------
[INFO]
[INFO] --- maven-dependency-plugin:3.1.2:tree (default-cli) @ jersey-jetty-example ---
[INFO] com.mkyong:jersey-jetty-example:jar:1.0
[INFO] +- org.glassfish.jersey.containers:jersey-container-jetty-http:jar:3.0.2:compile
[INFO] |  +- jakarta.inject:jakarta.inject-api:jar:2.0.0:compile
[INFO] |  +- org.eclipse.jetty:jetty-server:jar:11.0.0:compile
[INFO] |  |  +- org.eclipse.jetty:jetty-http:jar:11.0.0:compile
[INFO] |  |  +- org.eclipse.jetty:jetty-io:jar:11.0.0:compile
[INFO] |  |  \- org.slf4j:slf4j-api:jar:2.0.0-alpha1:compile
[INFO] |  +- org.eclipse.jetty:jetty-util:jar:11.0.0:compile
[INFO] |  +- org.glassfish.jersey.core:jersey-common:jar:3.0.2:compile
[INFO] |  |  +- jakarta.annotation:jakarta.annotation-api:jar:2.0.0:compile
[INFO] |  |  \- org.glassfish.hk2:osgi-resource-locator:jar:1.0.3:compile
[INFO] |  +- org.glassfish.jersey.core:jersey-server:jar:3.0.2:compile
[INFO] |  |  +- org.glassfish.jersey.core:jersey-client:jar:3.0.2:compile
[INFO] |  |  \- jakarta.validation:jakarta.validation-api:jar:3.0.0:compile
[INFO] |  \- jakarta.ws.rs:jakarta.ws.rs-api:jar:3.0.0:compile
[INFO] +- org.glassfish.jersey.inject:jersey-hk2:jar:3.0.2:compile
[INFO] |  +- org.glassfish.hk2:hk2-locator:jar:3.0.1:compile
[INFO] |  |  +- org.glassfish.hk2.external:aopalliance-repackaged:jar:3.0.1:compile
[INFO] |  |  +- org.glassfish.hk2:hk2-api:jar:3.0.1:compile
[INFO] |  |  \- org.glassfish.hk2:hk2-utils:jar:3.0.1:compile
[INFO] |  \- org.javassist:javassist:jar:3.25.0-GA:compile
[INFO] +- jakarta.servlet:jakarta.servlet-api:jar:5.0.0:compile
[INFO] +- org.glassfish.jersey.media:jersey-media-json-jackson:jar:3.0.2:compile
[INFO] |  +- org.glassfish.jersey.ext:jersey-entity-filtering:jar:3.0.2:compile
[INFO] |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.12.2:compile
[INFO] |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.12.2:compile
[INFO] |  |  \- com.fasterxml.jackson.core:jackson-core:jar:2.12.2:compile
[INFO] |  +- com.fasterxml.jackson.module:jackson-module-jaxb-annotations:jar:2.12.2:compile
[INFO] |  \- javax.xml.bind:jaxb-api:jar:2.3.1:compile
[INFO] |     \- javax.activation:javax.activation-api:jar:1.2.0:compile
[INFO] +- org.junit.jupiter:junit-jupiter-params:jar:5.4.0:test
[INFO] |  +- org.apiguardian:apiguardian-api:jar:1.0.0:test
[INFO] |  \- org.junit.jupiter:junit-jupiter-api:jar:5.4.0:test
[INFO] |     +- org.opentest4j:opentest4j:jar:1.1.1:test
[INFO] |     \- org.junit.platform:junit-platform-commons:jar:1.4.0:test
[INFO] \- org.skyscreamer:jsonassert:jar:1.5.0:test
[INFO]    \- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:test
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  5.557 s
[INFO] Finished at: 2021-05-26T12:33:16+08:00
[INFO] ------------------------------------------------------------------------
</code></pre>
      <h2 id="jax-rs-jersey-endpoints"> 5. JAX-RS (Jersey) endpoints<br></h2>
      <p>5.1 A dummy bean, and later, we will return this object in JSON formatted string.</p>
      <div class="filename">
       User
      </div>
      <pre><code class="language-java">
package com.mkyong;

public class User {

  private int id;
  String name;

  //getter and setters
}
</code></pre>
      <p>5.2 JAX-RS APIs (Jersey is a JAX-RS implementation) to create a few endpoints to return the JSON and TEXT response.</p>
      <ul>
       <li><code>/hello</code> returns a string.</li>
       <li><code>/hello/{name}</code> returns a JSON formatted string.</li>
       <li><code>/hello/all</code> returns a JDON formatted array.</li>
      </ul>
      <p><em>P.S The Jackson provider will convert the object to JSON automatically.</em></p>
      <div class="filename">
       MyResource.java
      </div>
      <pre><code class="language-java">
package com.mkyong;

import jakarta.ws.rs.GET;
import jakarta.ws.rs.Path;
import jakarta.ws.rs.PathParam;
import jakarta.ws.rs.Produces;
import jakarta.ws.rs.core.MediaType;

import java.util.ArrayList;
import java.util.List;

@Path("/hello")
public class MyResource {

  @GET
  @Produces(MediaType.TEXT_PLAIN)
  public String hello() {
      return "Jersey Jetty example.";
  }

  @Path("/{username}")
  @GET
  @Produces(MediaType.APPLICATION_JSON)
  public User hello(@PathParam("username") String name) {

      User obj = new User();
      obj.setId(0);
      obj.setName(name);

      return obj;

  }

  @Path("/all")
  @GET
  @Produces(MediaType.APPLICATION_JSON)
  public List&lt;User&gt; helloList() {

      List&lt;User&gt; list = new ArrayList&lt;&gt;();

      User obj1 = new User();
      obj1.setId(1);
      obj1.setName("mkyong");
      list.add(obj1);

      User obj2 = new User();
      obj2.setId(2);
      obj2.setName("zilap");
      list.add(obj2);

      return list;

  }

}
</code></pre>
      <h2 id="start-jersey-jetty-application"> 6. Start Jersey + Jetty application<br></h2>
      <p>We need to control the starting and stopping of the Jetty HTTP server.</p>
      <p>Notes</p>
      <ul>
       <li>We use <code>Runtime.getRuntime().addShutdownHook</code> to add a JVM shutdown hook; If this started application received a shutdown signal like <code>CTRL+C</code>, the shutdown hook would fire and stop the Jetty HTTP server.</li>
       <li>The <code>Thread.currentThread().join()</code> will block the main thread to exit, acts like <code>Thread.sleep(Long.MAX_VALUE);</code> This asks the started application to wait for the shutdown signal. (Any alternative?)</li>
      </ul>
      <div class="filename">
       MainApp.java
      </div>
      <pre><code class="language-java">
package com.mkyong;

import org.eclipse.jetty.server.Server;
import org.glassfish.jersey.jetty.JettyHttpContainerFactory;
import org.glassfish.jersey.server.ResourceConfig;

import java.net.URI;
import java.util.logging.Level;
import java.util.logging.Logger;

public class MainApp {

  public static final String BASE_URI = "http://localhost:8080/";

  public static Server startServer() {

      // scan packages
      // final ResourceConfig config = new ResourceConfig().packages("com.mkyong");

      final ResourceConfig config = new ResourceConfig(MyResource.class);
      final Server server =
              JettyHttpContainerFactory.createServer(URI.create(BASE_URI), config);

      return server;

  }

  public static void main(String[] args) {

      try {

          final Server server = startServer();

          Runtime.getRuntime().addShutdownHook(new Thread(() -&gt; {
              try {
                  System.out.println("Shutting down the application...");
                  server.stop();
                  System.out.println("Done, exit.");
              } catch (Exception e) {
                  Logger.getLogger(MainApp.class.getName()).log(Level.SEVERE, null, e);
              }
          }));

          System.out.println(
              String.format("Application started.%nStop the application using CTRL+C"));

          // block and wait shut down signal, like CTRL+C
          Thread.currentThread().join();

          // alternative
          // Thread.sleep(Long.MAX_VALUE);       // sleep forever...
          // Thread.sleep(Integer.MAX_VALUE);    // sleep around 60+ years

      } catch (InterruptedException ex) {
          Logger.getLogger(MainApp.class.getName()).log(Level.SEVERE, null, ex);
      }

  }

}
</code></pre>
      <h2 id="demo"> 7. Demo<br></h2>
      <p>The below command package the application as an executable <code>jar</code> and copying the project dependencies to <code>target\lib</code>.</p>
      <div class="filename">
       Terminal
      </div>
      <pre><code class="language-bash">
&gt; mvn clean package   

&gt; java -jar target\jersey-jetty.jar

SLF4J: No SLF4J providers were found.
SLF4J: Defaulting to no-operation (NOP) logger implementation
SLF4J: See http://www.slf4j.org/codes.html#noProviders for further details.
May 26, 2021 1:14:07 PM org.glassfish.jersey.message.internal.MessagingBinders$EnabledProvidersBinder bindToBinder
May 26, 2021 1:14:07 PM org.glassfish.jersey.server.wadl.WadlFeature configure
WARNING: JAX-B API not found . WADL feature is disabled.
Application started.
Stop the application using CTRL+C
</code></pre>
      <div class="note">
       <p><strong>Note</strong><br> If you are using IDEs like IntelliJ or Eclipse, start the <code>MainApp.java</code> will start the entire Jersey + Jetty application.</p>
      </div>
      <p>7.1 Test the JAX-RS endpoints with the <code>cURL</code> command.</p>
      <div class="filename">
       Terminal
      </div>
      <pre><code class="language-bash">
&gt; curl http://localhost:8080/hello
Jersey Jetty example.

&gt; curl http://localhost:8080/hello/mkyong
{"id":0,"name":"mkyong"}  

&gt; curl http://localhost:8080/hello/all
[{"id":1,"name":"mkyong"},{"id":2,"name":"zilap"}]
</code></pre>
      <p>7.2 Display the request and response headers.</p>
      <div class="filename">
       Terminal
      </div>
      <pre><code class="language-bash">
&gt; curl -v http://localhost:8080/hello/mkyong
*   Trying ::1...
* TCP_NODELAY set
* Connected to localhost (::1) port 8080 (#0)
&gt; GET /hello/mkyong HTTP/1.1
&gt; Host: localhost:8080
&gt; User-Agent: curl/7.55.1
&gt; Accept: */*
&gt;
&lt; HTTP/1.1 200 OK
&lt; Date: Wed, 26 May 2021 05:19:45 GMT
&lt; Content-Type: application/json
&lt; Transfer-Encoding: chunked
&lt; Server: Jetty(11.0.0)
&lt;
{"id":0,"name":"mkyong"}
</code></pre>
      <h2 id="unit-test-jersey-junit-5"> 8. Unit Test, Jersey + JUnit 5<br></h2>
      <p>We use  and  to test the Jersey endpoints and JSON response.</p>
      <div class="filename">
       MyResourceTest.java
      </div>
      <pre><code class="language-java">
package com.mkyong;

import jakarta.ws.rs.client.Client;
import jakarta.ws.rs.client.ClientBuilder;
import jakarta.ws.rs.core.MediaType;
import org.eclipse.jetty.server.Server;
import jakarta.ws.rs.client.WebTarget;
import org.json.JSONArray;
import org.json.JSONException;
import org.json.JSONObject;
import org.junit.jupiter.api.AfterAll;
import org.junit.jupiter.api.BeforeAll;
import org.junit.jupiter.api.Test;
import org.skyscreamer.jsonassert.JSONAssert;

import static org.junit.jupiter.api.Assertions.assertEquals;

public class MyResourceTest {

    private static Server server;
    private static WebTarget target;

    @BeforeAll
    public static void beforeAllTests() {
        server = MainApp.startServer();
        Client c = ClientBuilder.newClient();
        target = c.target(MainApp.BASE_URI);
    }

    @AfterAll
    public static void afterAllTests() throws Exception {
        server.stop();
    }

    @Test
    public void testHello() {
        String response = target.path("hello").request().get(String.class);
        assertEquals("Jersey Jetty example.", response);
    }

    @Test
    public void testHelloName() throws JSONException {

        String response = target.path("hello/mkyong")
                .request(MediaType.APPLICATION_JSON)
                .get(String.class);

        // convert json string to JSONObject
        JSONObject actual = new JSONObject(response);

        String expected = "{\"id\":0,\"name\":\"mkyong\"}";
        JSONAssert.assertEquals(expected, actual, false);

    }

    @Test
    public void testHelloAll() throws JSONException {

        String response = target.path("hello/all")
                .request(MediaType.APPLICATION_JSON)
                .get(String.class);

        // convert json string to JSONArray
        JSONArray actual = new JSONArray(response);

        String expected = "[{\"id\":1,\"name\":\"mkyong\"},{\"id\":2,\"name\":\"zilap\"}]";
        JSONAssert.assertEquals(expected, actual, false);

    }

}
</code></pre>
      <h2 id="download-source-code"> 9. Download Source Code<br></h2>
      <div class="github">
       <p>$ git clone </p>
       <p>$ cd jax-rs/jersey/jersey-jetty/</p>
       <p>$ mvn clean package</p>
       <p>$ java -jar target\jersey-jetty.jar</p>
      </div>
      <h2 id="references"> 10. References<br></h2>
      <ul>
       <li></li>
       <li></li>
       <li></li>
       <li></li>
       <li></li>
       <li></li>
      </ul> <!-- current post ID --> 
      <div class="d-flex justify-content-center ads-container-after-post ads-container"> <!-- Tag ID: mkyong_leaderboard_btf -->
       <div align="center" data-freestar-ad="__320x100 __336x280" id="mkyong_leaderboard_btf">  
       </div>
      </div> <!-- loaded via JS -->
      <div id="mk-afterpost-related"></div> <!-- author -->
      <div id="author-container" class="d-flex align-items-center position-relative">
       <div></div>
       <div>
        <h5></h5>
        <p>Founder of , love Java and open source stuff. Follow him on . If you like my tutorials, consider make a donation to .</p>
        <p></p>
       </div>
      </div> <!-- comments -->
      <h4>Comments</h4>
      <div class="wpdiscuz_top_clearing"></div>
      <div id="comments" class="comments-area">
       <div id="respond" style="width: 0;height: 0;clear: both;margin: 0;padding: 0;"></div>
       <div id="wpdcom" class="wpdiscuz_unauth wpd-default wpd-layout-1 wpd-comments-open">
        <div class="wc_social_plugin_wrapper"></div>
        <div class="wpd-form-wrap">
         <div class="wpd-form-head">
          <div class="wpd-auth">
           <div class="wpd-login"></div>
          </div>
         </div>
         <div class="wpd-form wpd-form-wrapper wpd-main-form-wrapper" id="wpd-main-form-wrapper-0_0"></div>
         <div id="wpdiscuz_hidden_secondary_form" style="display: none;">
          <div class="wpd-form wpd-form-wrapper wpd-secondary-form-wrapper" id="wpd-secondary-form-wrapper-wpdiscuzuniqueid" style="display: none;">
           <div class="wpd-secondary-forms-social-content"></div>
           <div class="clearfix"></div>
          </div>
         </div>
        </div>
        <div id="wpd-threads" class="wpd-thread-wrapper">
         <div class="wpd-thread-head">
          <div class="wpd-thread-info " data-comments-count="0"> <span class="wpdtc" title="0">0</span> Comments
          </div>
          <div class="wpd-space"></div>
          <div class="wpd-thread-filter"></div>
         </div>
         <div class="wpd-comment-info-bar">
          <div class="wpd-current-view">
           <i class="fas fa-quote-left"></i> Inline Feedbacks
          </div>
          <div class="wpd-filter-view-all">
           View all comments
          </div>
         </div>
         <div class="wpd-thread-list">
          <div class="wpdiscuz-comment-pagination"></div>
         </div>
        </div>
       </div>
      </div>
      <div id="wpdiscuz-loading-bar" class="wpdiscuz-loading-bar-unauth"></div>
      <div id="wpdiscuz-comment-message" class="wpdiscuz-comment-message-unauth"></div>
     </article>
    </main> <!-- right -->
    <div id="sidebar-right" class="d-none d-xl-block col-xl-3">
     <div class="ads-container-height1080">
      <div class="ads-container-sticky">
       <div class="ads-container">
        <div align="center" data-freestar-ad="__300x600" id="mkyong_rail_right_1">  
        </div>
       </div>
      </div>
     </div>
     <div class="ads-container-sticky">
      <div class="ads-container">
       <div align="center" data-freestar-ad="__300x600" id="mkyong_rail_right_2">  
       </div>
      </div>
     </div>
    </div>
   </div> <!--/.row -->
  </div> <!--/.container-fluid -->  <!-- Dynamic page generated in 0.072 seconds. --><!-- Cached page generated by WP-Super-Cache on 2021-09-29 17:20:19 --><!-- super cache -->
 </body>
</html>