<!doctype html>
<html lang="en">
 <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="google-site-verification" content="VsVvSTVAouAluNodWeR30BeIWTr4c84HvN4Fn9WBsak"> <!-- wp_head --> <!-- This site is optimized with the Yoast SEO plugin v15.5 - https://yoast.com/wordpress/plugins/seo/ -->
  <title>Java - Get keys from value HashMap - Mkyong.com</title>
  <meta name="description" content="java - Java - Get keys from value HashMap">
  <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
  <meta property="og:locale" content="en_US">
  <meta property="og:type" content="article">
  <meta property="og:title" content="Java - Get keys from value HashMap - Mkyong.com">
  <meta property="og:description" content="java - Java - Get keys from value HashMap">
  <meta property="og:url" content="https://mkyong.com/java/java-get-keys-from-value-hashmap/">
  <meta property="og:site_name" content="Mkyong.com">
  <meta property="article:published_time" content="2021-02-26T07:42:11+00:00">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:label1" content="Written by">
  <meta name="twitter:data1" content="mkyong">
  <meta name="twitter:label2" content="Est. reading time">
  <meta name="twitter:data2" content="4 minutes">  <!-- / Yoast SEO plugin. -->  
 </head>
 <body>
  <div class="container-fluid">
   <div class="row"> <!-- left -->
    <div id="sidebar-left" class="col-12 col-lg-3 col-xl-2"> <!-- sidebar-left-menu, see functions.php-->
     <div class="offcanvas offcanvas-start" tabindex="-1" id="left-nav" aria-labelledby="left-nav">
      <div class="offcanvas-header">
       <h5 class="offcanvas-title">Main Tutorials</h5>
      </div>
      <div class="offcanvas-body sidebar-left-no-highlight">
       <div>
        <ul>
         <li></li>
         <li></li>
         <li></li>
         <li></li>
         <li></li>
         <li></li>
         <li></li>
         <li></li>
         <li></li>
         <li></li>
         <li></li>
         <li></li>
         <li></li>
         <li></li>
         <li></li>
         <li></li>
         <li></li>
        </ul>
       </div>
      </div>
     </div> <!-- ads -->
     <div class="ads-container-sticky d-none d-lg-block">
      <div class="ads-container">
       <div align="center" data-freestar-ad="__160x600" id="mkyong_rail_left">  
       </div>
      </div>
     </div>
    </div> <!-- middle -->
    <main id="main-middle" role="main" class="col-12 col-lg-9 col-xl-7">
     <article id="main-content" class="dont-break-out">
      <div id="title-container">
       <h1>Java – Get keys from value HashMap</h1>
       <div class="post-meta d-flex align-items-center position-relative">
        <div></div>
        <div>
         <p><small class="extra-info">By  | <time datetime="2021-02-26T15:42:11+08:00"> Last updated: February 26, 2021</time></small></p>
         <p><small class="extra-info">Viewed: 11,392 (+694 pv/w)</small></p>
         <p><small class="extra-info"></small></p>
         <div class="post-tag">
          <small class="extra-info">Tags: |  |  | </small>
         </div>
         <p></p>
        </div>
       </div>
      </div>
      <p>This article shows a few ways to get keys from value in .</p>
      <ul class="list-toc">
       <li></li>
       <li></li>
       <li></li>
       <li></li>
       <li></li>
       <li></li>
      </ul>
      <h2 id="hashmap-can-contain-null-for-key-and-value"> 1. HashMap can contain null for key and value<br></h2>
      <p>When we create a method to find keys from value in <code>HashMap</code>, we have to take care of the following concerns:</p>
      <ol>
       <li><code>HashMap</code> can contain <code>null</code> for key and value.</li>
       <li><code>HashMap</code> keys are unique, which means no duplication.</li>
       <li><code>HashMap</code> does not guarantee the insert order.</li>
       <li>Single or multiple keys match to a single value.</li>
      </ol>
      <p>A <code>HashMap</code> example.</p>
      <pre><code class="language-java">
  Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();
  map.put("key1", 1);
  map.put("key2", 2);
  map.put("key3", 3);
  map.put("key4", 3);
  map.put("key5", null);  // null for value
  map.put(null, 3);       // null for key
</code></pre>
      <div class="ads-container ads-container-video">
       <div id="mkyongFreeStarVideoAdContainer">
        <div id="freestar-video-parent">
         <div id="freestar-video-child"></div>
        </div>
       </div>
      </div>
      <h2 id="get-all-keys-from-hashmap-keyset"> 2. Get all keys from HashMap – keySet()<br></h2>
      <p>The <code>map.keySet()</code> returns a <code>Set</code>, and the <code>HashMap</code> does not guarantee the insert order.</p>
      <pre><code class="language-java">
  Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();
  map.put("key1", 1);
  map.put("key2", 2);
  map.put("key3", 3);
  map.put("key4", 3);
  map.put("key5", null);
  map.put(null, 3);

  //Set&lt;String&gt; keys = map.keySet();

  // print all keys
  for (String key : map.keySet()) {
      System.out.println(key);
  }
</code></pre>
      <p>Output</p>
      <div class="filename">
       Terminal
      </div>
      <pre><code class="language-bash">
key1
null
key2
key5
key3
key4
</code></pre>
      <h2 id="get-keys-from-value-in-hashmap"> 3. Get keys from value in HashMap<br></h2>
      <p>To find all the keys that map to a certain value, we can loop the <code>entrySet()</code> and <code>Objects.equals</code> to compare the value and get the key.</p>
      <div class="note">
       <p><strong>Note</strong><br> The common mistake is use the <code>entry.getValue().equals(value)</code> to compare the value, because if the <code>HashMap</code> contains a <code>null</code> value, the method will throw a popular <code>NullPointerException</code>.</p>
      </div>
      <p>3.1 Find all keys that containing the value of <code>3</code>.</p>
      <div class="filename">
       FindKeysFromMap.java
      </div>
      <pre><code class="language-java">
package com.mkyong.basic;

import java.util.*;

public class FindKeysFromMap {

  public static void main(String[] args) {

      Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();
      map.put("key1", 1);
      map.put("key2", 2);
      map.put("key3", 3);
      map.put("key4", 3);
      map.put("key5", null);
      map.put(null, 3);

      for (String key : getKeys(map, 3)) {
          System.out.println(key);
      }

  }

  private static Set&lt;String&gt; getKeys(Map&lt;String, Integer&gt; map, Integer value) {

      Set&lt;String&gt; result = new HashSet&lt;&gt;();
      if (map.containsValue(value)) {
          for (Map.Entry&lt;String, Integer&gt; entry : map.entrySet()) {
              if (Objects.equals(entry.getValue(), value)) {
                  result.add(entry.getKey());
              }
              // we can't compare like this, null will throws exception
              /*(if (entry.getValue().equals(value)) {
                  result.add(entry.getKey());
              }*/
          }
      }
      return result;

  }

}
</code></pre>
      <p>Output</p>
      <div class="filename">
       Terminal
      </div>
      <pre><code class="language-bash">
null
key3
key4
</code></pre>
      <p>3.2 Find all keys that containing the value of <code>null</code>.</p>
      <pre><code class="language-java">
  for (String key : getKeys(map, null)) {
      System.out.println(key);
  }
</code></pre>
      <p>Output</p>
      <div class="filename">
       Terminal
      </div>
      <pre><code class="language-bash">
key5
</code></pre>
      <h2 id="get-keys-from-value-in-hashmap-java-8-stream"> 4. Get keys from value in HashMap (Java 8 Stream)<br></h2>
      <p>4.1 Below is an equivalent example in Java 8.</p>
      <div class="filename">
       FindKeysFromMapJava8.java
      </div>
      <pre><code class="language-java">
package com.mkyong.basic;

import java.util.*;
import java.util.stream.Collectors;

public class FindKeysFromMapJava8 {

  public static void main(String[] args) {

      Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();
      map.put("key1", 1);
      map.put("key2", 2);
      map.put("key3", 3);
      map.put("key4", 3);
      map.put("key5", null);
      map.put(null, 3);

      for (String key : getKeysJava8(map, 3)) {
          System.out.println(key);
      }

  }

  /*private static Set&lt;String&gt; getKeys(Map&lt;String, Integer&gt; map, Integer value) {

      Set&lt;String&gt; result = new HashSet&lt;&gt;();
      if (map.containsValue(value)) {
          for (Map.Entry&lt;String, Integer&gt; entry : map.entrySet()) {
              if (Objects.equals(entry.getValue(), value)) {
                  result.add(entry.getKey());
              }
          }
      }
      return result;

  }*/

  private static Set&lt;String&gt; getKeysJava8(
      Map&lt;String, Integer&gt; map, Integer value) {

      return map
              .entrySet()
              .stream()
              .filter(entry -&gt; Objects.equals(entry.getValue(), value))
              .map(Map.Entry::getKey)
              .collect(Collectors.toSet());

  }

}
</code></pre>
      <p>Output</p>
      <div class="filename">
       Terminal
      </div>
      <pre><code class="language-bash">
null
key3
key4
</code></pre>
      <p>4.2 If we want to find only the first key that match the value.</p>
      <pre><code class="language-java">
  private static Optional&lt;String&gt; getKeysJava8(
        Map&lt;String, Integer&gt; map, Integer value) {

        return map
                .entrySet()
                .stream()
                .filter(entry -&gt; Objects.equals(entry.getValue(), value))
                .map(Map.Entry::getKey)
                .findFirst();

    }
</code></pre>
      <p>4.3 Or if we want a <code>List</code> and <code>Optional</code>.</p>
      <pre><code class="language-java">
  private static Optional&lt;List&lt;String&gt;&gt; getKeysJava8Optional(
        Map&lt;String, Integer&gt; map, Integer value) {

        List&lt;String&gt; collect = map
                .entrySet()
                .stream()
                .filter(entry -&gt; Objects.equals(entry.getValue(), value))
                .map(Map.Entry::getKey)
                .collect(Collectors.toList());
        return Optional.of(collect);

</code></pre>
      <h2 id="hashmap-only-has-one-item"> 5. HashMap only has one item<br></h2>
      <p>5.1 If the <code>HashMap</code> only has one item, we can use <code>map.keySet().toArray()</code> to convert the <code>Set</code> to an <code>Array</code> and <code>[0]</code> to get the first item from the array, which means the first key from the <code>HashMap</code>.</p>
      <pre><code class="language-java">
  Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();
  map.put("key1", 1);

  // the first key
  Object key = map.keySet().toArray()[0];
  System.out.println(key);
</code></pre>
      <p>Output</p>
      <div class="filename">
       Terminal
      </div>
      <pre><code class="language-bash">
key1
</code></pre>
      <p>5.2 Can we use <code>map.keySet().toArray()[5]</code> to get the sixth key from a <code>HashMap</code>? The answer is a NO because the result will be a random key, <code>HashMap</code> does not guarantee the insert order.</p>
      <p><strong>Do not try this</strong></p>
      <pre><code class="language-java">
  Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();
  map.put("key1", 1);
  map.put("key2", 2);
  map.put("key3", 3);
  map.put("key4", 3);
  map.put("key5", null);
  map.put(null, 3);

  Object key = map.keySet().toArray()[5];   // we expect the sixth key from a HashMap
  System.out.println(key);                  // but the result is a random keys
</code></pre>
      <div class="note">
       <p><strong>Note</strong><br> The <code>HashMap</code> does not guarantee the insert order, this <code>map.keySet().toArray()[0]</code> only works for <code>HashMap</code> only has one item.</p>
      </div>
      <h2 id="references"> 6. References<br></h2>
      <ul>
       <li></li>
       <li></li>
       <li></li>
      </ul> <!-- current post ID --> 
      <div class="d-flex justify-content-center ads-container-after-post ads-container"> <!-- Tag ID: mkyong_leaderboard_btf -->
       <div align="center" data-freestar-ad="__320x100 __336x280" id="mkyong_leaderboard_btf">  
       </div>
      </div> <!-- loaded via JS -->
      <div id="mk-afterpost-related"></div> <!-- author -->
      <div id="author-container" class="d-flex align-items-center position-relative">
       <div></div>
       <div>
        <h5></h5>
        <p>Founder of , love Java and open source stuff. Follow him on . If you like my tutorials, consider make a donation to .</p>
        <p></p>
       </div>
      </div> <!-- comments -->
      <h4>Comments</h4>
      <div class="wpdiscuz_top_clearing"></div>
      <div id="comments" class="comments-area">
       <div id="respond" style="width: 0;height: 0;clear: both;margin: 0;padding: 0;"></div>
       <div id="wpdcom" class="wpdiscuz_unauth wpd-default wpd-layout-1 wpd-comments-open">
        <div class="wc_social_plugin_wrapper"></div>
        <div class="wpd-form-wrap">
         <div class="wpd-form-head">
          <div class="wpd-auth">
           <div class="wpd-login"></div>
          </div>
         </div>
         <div class="wpd-form wpd-form-wrapper wpd-main-form-wrapper" id="wpd-main-form-wrapper-0_0"></div>
         <div id="wpdiscuz_hidden_secondary_form" style="display: none;">
          <div class="wpd-form wpd-form-wrapper wpd-secondary-form-wrapper" id="wpd-secondary-form-wrapper-wpdiscuzuniqueid" style="display: none;">
           <div class="wpd-secondary-forms-social-content"></div>
           <div class="clearfix"></div>
          </div>
         </div>
        </div>
        <div id="wpd-threads" class="wpd-thread-wrapper">
         <div class="wpd-thread-head">
          <div class="wpd-thread-info " data-comments-count="0"> <span class="wpdtc" title="0">0</span> Comments
          </div>
          <div class="wpd-space"></div>
          <div class="wpd-thread-filter"></div>
         </div>
         <div class="wpd-comment-info-bar">
          <div class="wpd-current-view">
           <i class="fas fa-quote-left"></i> Inline Feedbacks
          </div>
          <div class="wpd-filter-view-all">
           View all comments
          </div>
         </div>
         <div class="wpd-thread-list">
          <div class="wpdiscuz-comment-pagination"></div>
         </div>
        </div>
       </div>
      </div>
      <div id="wpdiscuz-loading-bar" class="wpdiscuz-loading-bar-unauth"></div>
      <div id="wpdiscuz-comment-message" class="wpdiscuz-comment-message-unauth"></div>
     </article>
    </main> <!-- right -->
    <div id="sidebar-right" class="d-none d-xl-block col-xl-3">
     <div class="ads-container-height1080">
      <div class="ads-container-sticky">
       <div class="ads-container">
        <div align="center" data-freestar-ad="__300x600" id="mkyong_rail_right_1">  
        </div>
       </div>
      </div>
     </div>
     <div class="ads-container-sticky">
      <div class="ads-container">
       <div align="center" data-freestar-ad="__300x600" id="mkyong_rail_right_2">  
       </div>
      </div>
     </div>
    </div>
   </div> <!--/.row -->
  </div> <!--/.container-fluid -->  <!-- Dynamic page generated in 0.070 seconds. --><!-- Cached page generated by WP-Super-Cache on 2021-09-29 17:21:09 --><!-- super cache -->
 </body>
</html>