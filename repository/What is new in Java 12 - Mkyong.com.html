<!doctype html>
<html lang="en">
 <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="google-site-verification" content="VsVvSTVAouAluNodWeR30BeIWTr4c84HvN4Fn9WBsak"> <!-- wp_head --> <!-- This site is optimized with the Yoast SEO plugin v15.5 - https://yoast.com/wordpress/plugins/seo/ -->
  <title>What is new in Java 12 - Mkyong.com</title>
  <meta name="description" content="Java 12 features - Switch expressions, new Shenandoah GC and G1 improvement.">
  <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
  <meta property="og:locale" content="en_US">
  <meta property="og:type" content="article">
  <meta property="og:title" content="What is new in Java 12 - Mkyong.com">
  <meta property="og:description" content="Java 12 features - Switch expressions, new Shenandoah GC and G1 improvement.">
  <meta property="og:url" content="https://mkyong.com/java/what-is-new-in-java-12/">
  <meta property="og:site_name" content="Mkyong.com">
  <meta property="article:published_time" content="2020-05-18T09:28:33+00:00">
  <meta property="article:modified_time" content="2021-03-17T06:52:37+00:00">
  <meta property="og:image" content="https://mkyong.com/wp-content/uploads/2020/05/java-12-logo.png">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:label1" content="Written by">
  <meta name="twitter:data1" content="mkyong">
  <meta name="twitter:label2" content="Est. reading time">
  <meta name="twitter:data2" content="4 minutes">  <!-- / Yoast SEO plugin. -->  
 </head>
 <body>
  <div class="container-fluid">
   <div class="row"> <!-- left -->
    <div id="sidebar-left" class="col-12 col-lg-3 col-xl-2"> <!-- sidebar-left-menu, see functions.php-->
     <div class="offcanvas offcanvas-start" tabindex="-1" id="left-nav" aria-labelledby="left-nav">
      <div class="offcanvas-header">
       <h5 class="offcanvas-title">Main Tutorials</h5>
      </div>
      <div class="offcanvas-body sidebar-left-no-highlight">
       <div>
        <ul>
         <li></li>
         <li></li>
         <li></li>
         <li></li>
         <li></li>
         <li class="active"></li>
         <li></li>
         <li></li>
         <li></li>
         <li></li>
         <li></li>
         <li></li>
         <li></li>
         <li></li>
         <li></li>
         <li></li>
         <li></li>
        </ul>
       </div>
      </div>
     </div> <!-- ads -->
     <div class="ads-container-sticky d-none d-lg-block">
      <div class="ads-container">
       <div align="center" data-freestar-ad="__160x600" id="mkyong_rail_left">  
       </div>
      </div>
     </div>
    </div> <!-- middle -->
    <main id="main-middle" role="main" class="col-12 col-lg-9 col-xl-7">
     <article id="main-content" class="dont-break-out">
      <div id="title-container">
       <h1>What is new in Java 12</h1>
       <div class="post-meta d-flex align-items-center position-relative">
        <div></div>
        <div>
         <p><small class="extra-info">By  | <time datetime="2021-03-17T14:52:37+08:00"> Last updated: March 17, 2021</time></small></p>
         <p><small class="extra-info">Viewed: 18,422 (+176 pv/w)</small></p>
         <p><small class="extra-info"></small></p>
         <div class="post-tag">
          <small class="extra-info">Tags: |  | </small>
         </div>
         <p></p>
        </div>
       </div>
      </div>
      <div class="pre-next-container d-flex justify-content-between"></div>
      <p></p>
      <div class="pic"> 
      </div>
      <p></p>
      <p> reached General Availability on 19 March 2019,  or this .</p>
      <p>Java 12 features.</p>
      <ul class="list-toc">
       <li></li>
       <li></li>
       <li></li>
       <li></li>
       <li></li>
       <li></li>
       <li></li>
       <li></li>
      </ul>
      <p><em>Java 12 developer features.</em></p>
      <p>Switch expression (preview)</p>
      <h2 id="jep-189-shenandoah-a-low-pause-time-garbage-collector-experimental"> 1. JEP 189: Shenandoah: A Low-Pause-Time Garbage Collector (Experimental)<br></h2>
      <p>Shenandoah is a new low-pause and concurrent garbage collector, read this , it reduces GC pause time and independent of the Java heap size (5M or 5G of heap size have the same pause time, useful for large heap applications.)</p>
      <p>This GC is an experimental feature, and we need to use the following options to enable the new Shenandoah GC.</p>
      <pre><code class="language-bash">
-XX:+UnlockExperimentalVMOptions -XX:+UseShenandoahGC
</code></pre>
      <p>However, both , read this also .</p>
      <pre><code class="language-bash">
C:\Users\mkyong&gt; java -version
java version "12" 2019-03-19
Java(TM) SE Runtime Environment (build 12+33)
Java HotSpot(TM) 64-Bit Server VM (build 12+33, mixed mode, sharing)

C:\Users\mkyong&gt; java -XX:+UnlockExperimentalVMOptions -XX:+UseShenandoahGC
Error occurred during initialization of VM
Option -XX:+UseShenandoahGC not supported
</code></pre>
      <p>To try Shenandoah GC, we need other JDK build like .</p>
      <p><em>P.S This Shenandoah GC became a product feature in Java 15 .</em></p>
      <p><em>Further Reading</em></p>
      <ul>
       <li></li>
       <li></li>
      </ul>
      <div class="ads-container ads-container-video">
       <div id="mkyongFreeStarVideoAdContainer">
        <div id="freestar-video-parent">
         <div id="freestar-video-child"></div>
        </div>
       </div>
      </div>
      <h2 id="jep-230-microbenchmark-suite"> 2. JEP 230: Microbenchmark Suite<br></h2>
      <p>Added a range of Java Microbenchmark Harness (JMH) benchmarks to the JDK source code, for those interested to add or modify the JDK source code itself, now they have a way to compare the performance.</p>
      <div class="note">
       <p><strong>Note</strong><br> Sorry, not sure how it works, please comment below if you know how to run the JDK’s benchmark tests.</p>
      </div>
      <p><em>Further Reading</em></p>
      <ul>
       <li></li>
      </ul>
      <h2 id="jep-325-switch-expressions-preview"> 3. JEP 325: Switch Expressions (Preview)<br></h2>
      <p>This JEP enhanced the existing switch statements (returns nothing) to support switch expressions (returns something).</p>
      <p>Traditional switch statements, we can return a value by assigning the value to a variable:</p>
      <pre><code class="language-java">
	private static String getText(int number) {
        String result = "";
        switch (number) {
            case 1, 2:
                result = "one or two";
                break;
            case 3:
                result = "three";
                break;
            case 4, 5, 6:
                result = "four or five or six";
                break;
            default:
                result = "unknown";
                break;
        };
        return result;
    }
</code></pre>
      <p>In Java 12, we can use <code>break</code> or <code>case L -&gt;</code> to return a value from a switch.</p>
      <pre><code class="language-java">
	private static String getText(int number) {
        String result = switch (number) {
            case 1, 2:
                break "one or two";
            case 3:
                break "three";
            case 4, 5, 6:
                break "four or five or six";
            default:
                break "unknown";
        };
        return result;
    }
</code></pre>
      <p><code>case L -&gt;</code> syntax.</p>
      <pre><code class="language-java">
	private static String getText(int number) {
        return switch (number) {
            case 1, 2 -&gt; "one or two";
            case 3 -&gt; "three";
            case 4, 5, 6 -&gt; "four or five or six";
            default -&gt; "unknown";
        };
    }
</code></pre>
      <div class="note">
       <p><strong>Note</strong><br> This switch expressions have a second preview in Java 13 (dropped the <code>break</code> in favor of <code>yield</code>), and this switch expressions became a standard feature in .</p>
      </div>
      <p><em>Futher Reading</em></p>
      <ul>
       <li></li>
       <li></li>
      </ul>
      <p>To enable the Java 12 preview features:</p>
      <pre><code class="language-bash">
javac --enable-preview --release 12 Example.java
java --enable-preview Example
</code></pre>
      <h2 id="jep-334-jvm-constants-api"> 4. JEP 334: JVM Constants API<br></h2>
      <p>A new package <code>java.lang.constant</code>, a list of new classes and interfaces to model the key class-file and run-time artifacts, for example, the .</p>
      <p><em>Further Reading</em></p>
      <ul>
       <li></li>
       <li></li>
      </ul>
      <h2 id="jep-340-one-aarch64-port-not-two"> 5. JEP 340: One AArch64 Port, Not Two<br></h2>
      <p>Before Java 12, there are two different source code or ports for the 64-bit .</p>
      <ul>
       <li>Oracle – <code>src/hotspot/cpu/arm</code></li>
       <li>Red Hat? – <code>src/hotspot/cpu/aarch64</code></li>
      </ul>
      <p>Java 12 removed the Oracle <code>src/hotspot/cpu/arm</code> port, and maintain only one port <code>src/hotspot/cpu/aarch64</code>, and make this <code>aarch64</code> the default build for the 64-bit ARM architecture.</p>
      <p><em>Further Reading</em></p>
      <ul>
       <li></li>
      </ul>
      <h2 id="jep-341-default-cds-archives"> 6. JEP 341: Default CDS Archives<br></h2>
      <p>The  improved the start-up time by reuse an existing archive file.</p>
      <p>Before Java 12, we need to use <code>-Xshare: dump</code> to generate the CDS archive file for the JDK classes. In Java 12, there is a new <code>classes.jsa</code> file in the <code>/bin/server/</code> directory, a default CDS archive file for the JDK classes.</p>
      <p></p>
      <div class="pic"> 
      </div>
      <p></p>
      <p><em>Further Reading</em></p>
      <ul>
       <li></li>
      </ul>
      <h2 id="jep-344-abortable-mixed-collections-for-g1"> 7. JEP 344: Abortable Mixed Collections for G1<br></h2>
      <p>This JEP improves the performance of the Garbage-first (G1) collector, by splits the problematic collection set into two parts – mandatory and optional. The G1 will abort the optional part if lack of time to handle it.</p>
      <p><em>Further Reading</em></p>
      <ul>
       <li></li>
      </ul>
      <h2 id="jep-346-promptly-return-unused-committed-memory-from-g1"> 8. JEP 346: Promptly Return Unused Committed Memory from G1<br></h2>
      <p>This JEP improves the performance of the Garbage-first (G1) collector. If the application is low of the activity or idle, G1 periodically trigger a concurrent cycle to determine overall Java heap usage and return unused Java heap memory to the operating system.</p>
      <p><em>Further Reading</em></p>
      <ul>
       <li></li>
      </ul>
      <h2 id="download-source-code"> Download Source Code<br></h2>
      <div class="github">
       <p>$ git clone </p>
       <p>$ cd java-12</p>
      </div>
      <h2 id="references"> References<br></h2>
      <ul>
       <li></li>
       <li></li>
       <li></li>
       <li></li>
       <li></li>
       <li></li>
       <li></li>
       <li></li>
       <li></li>
       <li></li>
       <li></li>
       <li></li>
       <li></li>
       <li></li>
      </ul>
      <div class="pre-next-container d-flex justify-content-between"></div> <!-- current post ID --> 
      <div class="d-flex justify-content-center ads-container-after-post ads-container"> <!-- Tag ID: mkyong_leaderboard_btf -->
       <div align="center" data-freestar-ad="__320x100 __336x280" id="mkyong_leaderboard_btf">  
       </div>
      </div> <!-- loaded via JS -->
      <div id="mk-afterpost-related"></div> <!-- author -->
      <div id="author-container" class="d-flex align-items-center position-relative">
       <div></div>
       <div>
        <h5></h5>
        <p>Founder of , love Java and open source stuff. Follow him on . If you like my tutorials, consider make a donation to .</p>
        <p></p>
       </div>
      </div> <!-- comments -->
      <h4>Comments</h4>
      <div class="wpdiscuz_top_clearing"></div>
      <div id="comments" class="comments-area">
       <div id="respond" style="width: 0;height: 0;clear: both;margin: 0;padding: 0;"></div>
       <div id="wpdcom" class="wpdiscuz_unauth wpd-default wpd-layout-1 wpd-comments-open">
        <div class="wc_social_plugin_wrapper"></div>
        <div class="wpd-form-wrap">
         <div class="wpd-form-head">
          <div class="wpd-auth">
           <div class="wpd-login"></div>
          </div>
         </div>
         <div class="wpd-form wpd-form-wrapper wpd-main-form-wrapper" id="wpd-main-form-wrapper-0_0"></div>
         <div id="wpdiscuz_hidden_secondary_form" style="display: none;">
          <div class="wpd-form wpd-form-wrapper wpd-secondary-form-wrapper" id="wpd-secondary-form-wrapper-wpdiscuzuniqueid" style="display: none;">
           <div class="wpd-secondary-forms-social-content"></div>
           <div class="clearfix"></div>
          </div>
         </div>
        </div>
        <div id="wpd-threads" class="wpd-thread-wrapper">
         <div class="wpd-thread-head">
          <div class="wpd-thread-info " data-comments-count="1"> <span class="wpdtc" title="1">1</span> Comment
          </div>
          <div class="wpd-space"></div>
          <div class="wpd-thread-filter">
           <div class="wpd-filter wpdf-sorting"> <span class="wpdiscuz-sort-button wpdiscuz-vote-sort-up wpdiscuz-sort-button-active" data-sorting="by_vote">Most Voted</span> <i class="fas fa-sort-down"></i>
            <div class="wpdiscuz-sort-buttons"> <span class="wpdiscuz-sort-button wpdiscuz-date-sort-desc" data-sorting="newest">Newest</span> <span class="wpdiscuz-sort-button wpdiscuz-date-sort-asc" data-sorting="oldest">Oldest</span>
            </div>
           </div>
          </div>
         </div>
         <div class="wpd-comment-info-bar">
          <div class="wpd-current-view">
           <i class="fas fa-quote-left"></i> Inline Feedbacks
          </div>
          <div class="wpd-filter-view-all">
           View all comments
          </div>
         </div>
         <div class="wpd-thread-list">
          <div id="wpd-comm-1060965_0" class="wpd-comment wpd_comment_level-1">
           <div class="wpd-comment-wrap wpd-blog-guest">
            <div class="wpd-comment-left ">
             <div class="wpd-avatar "> 
             </div>
            </div>
            <div id="comment-1060965" class="wpd-comment-right">
             <div class="wpd-comment-header">
              <div class="wpd-comment-author ">
                Prakash
              </div>
              <div class="wpd-comment-date" title="November 12, 2020 11:21 pm"> <i class="far fa-clock" aria-hidden="true"></i> 10 months ago
              </div>
              <div class="wpd-space"></div>
              <div class="wpd-comment-link wpd-hidden">
               <div style="" class="comment_flag comment_flag_modal wc_flag_tooltipster wpf-cta wpd-field-desc" wpd-tooltip-position="left" id="fc_1060965" wpd-tooltip="Click to flag and open «Comment Reporting» form. You can choose reporting category and send message to website administrator. Admins may or may not choose to remove the comment or block the author. And please don" t worry, your report will be anonymous.'>
                <i class="fas fa-flag"></i>
               </div>
              </div>
             </div>
             <div class="wpd-comment-text">
              <p>Good and crisp presentation of java 12 features, on a high level – Simple!</p>
             </div>
             <div class="wpd-comment-footer">
              <div class="wpd-vote">
               <div class="wpd-vote-up wpd_not_clicked"> 
                <svg xmlns="https://www.w3.org/2000/svg" viewbox="0 0 24 24">
                 <path fill="none" d="M0 0h24v24H0V0z" /><path d="M1 21h4V9H1v12zm22-11c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73v-2z" />
                </svg>
               </div>
               <div class="wpd-vote-result wpd-up" title="1">
                1
               </div>
               <div class="wpd-vote-down wpd_not_clicked"> 
                <svg xmlns="https://www.w3.org/2000/svg" viewbox="0 0 24 24">
                 <path fill="none" d="M0 0h24v24H0z" /><path d="M15 3H6c-.83 0-1.54.5-1.84 1.22l-3.02 7.05c-.09.23-.14.47-.14.73v2c0 1.1.9 2 2 2h6.31l-.95 4.57-.03.32c0 .41.17.79.44 1.06L9.83 23l6.59-6.59c.36-.36.58-.86.58-1.41V5c0-1.1-.9-2-2-2zm4 0v12h4V3h-4z" />
                </svg>
               </div>
              </div>
              <div class="wpd-reply-button"> 
               <svg xmlns="https://www.w3.org/2000/svg" viewbox="0 0 24 24">
                <path d="M10 9V5l-7 7 7 7v-4.1c5 0 8.5 1.6 11 5.1-1-5-4-10-11-11z" /><path d="M0 0h24v24H0z" fill="none" />
               </svg> <span>Reply</span>
              </div>
              <div class="wpd-space"></div>
             </div>
            </div>
           </div>
           <div id="wpdiscuz_form_anchor-1060965_0"></div>
          </div>
          <div class="wpdiscuz-comment-pagination"></div>
         </div>
        </div>
       </div>
      </div>
      <div id="wpdiscuz-loading-bar" class="wpdiscuz-loading-bar-unauth"></div>
      <div id="wpdiscuz-comment-message" class="wpdiscuz-comment-message-unauth"></div>
     </article>
    </main> <!-- right -->
    <div id="sidebar-right" class="d-none d-xl-block col-xl-3">
     <div class="ads-container-height1080">
      <div class="ads-container-sticky">
       <div class="ads-container">
        <div align="center" data-freestar-ad="__300x600" id="mkyong_rail_right_1">  
        </div>
       </div>
      </div>
     </div>
     <div class="ads-container-sticky">
      <div class="ads-container">
       <div align="center" data-freestar-ad="__300x600" id="mkyong_rail_right_2">  
       </div>
      </div>
     </div>
    </div>
   </div> <!--/.row -->
  </div> <!--/.container-fluid -->  <!-- Dynamic page generated in 0.100 seconds. --><!-- Cached page generated by WP-Super-Cache on 2021-10-03 10:29:16 -->
 </body>
</html>